<div *ngIf="!user" class="loading">
  <img class="spin" src="/assets/grid.svg" alt="Loading">
</div>
<div class="container" *ngIf="user">
  <div class="row header-info left-transform">
    <div class="picture" [style.background-image]="'url(' + user.picture + ')'">
    </div>
    <div class="extra-info">
      <p>{{user.fullName}}</p>
      <div class="item-info">
        <span class="field-name">Location:</span>
        <app-profile-field [selected]="countries" [value]="user.country" [type]="'select'"
                           (save)="update('country', $event)"></app-profile-field>
      </div>
      <div class="item-info">
        <span class="field-name">Currency: </span>
        <app-profile-field [selected]="profileCurrency" [value]="user.currency" [type]="'select'"
                       (save)="update('currency', $event)"></app-profile-field>
      </div>
    </div>
    <div class="promocode" *ngIf="percent">
      <p>Promocode {{percent}}% discount:</p>
      <p> {{promocode}} </p>
    </div>
  </div>
  <div class="row body-info left-transform">
    <div class="item-info">
      <span class="field-name">First name:</span>
      <app-profile-field [value]="user.firstName" [type]="'text'" (save)="update('firstName', $event)"></app-profile-field>
    </div>
    <div class="item-info">
      <span class="field-name">Last name:</span>
      <app-profile-field [value]="user.lastName" [type]="'text'" (save)="update('lastName', $event)"></app-profile-field>
    </div>
    <div class="item-info">
      <span class="field-name">E-mail:</span>
      <app-profile-field [value]="user.email" [type]="'email'" (save)="update('email', $event)"></app-profile-field>
    </div>
    <div class="item-info">
      <span class="field-name">Phone:</span>
      <app-profile-field [value]="user.phone" [type]="'text'" (save)="update('phone', $event)"></app-profile-field>
    </div>
    <div class="item-info">
      <span class="field-name">Mobile:</span>
      <app-profile-field [value]="user.mobile" [type]="'text'" (save)="update('mobile', $event)"></app-profile-field>
    </div>
  </div>
</div>

